<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bits</title>

    <link href="../css/styles.css" rel="stylesheet">
    <link href="../css/register.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="../js/scripts.js"></script>
</head>
<body>
<%- include('../partials/header2') %>

<div class="fondo-registro" style="background-image: url('../img/register.jpg');">
    <h1>Agregar Producto</h1>
   <form action="/users/crearProducto" method="POST" enctype="multipart/form-data" id="form">
    
        <ul>    
        <li>
          <label for="name">Ciudad:</label>
          <input type="ciudad" multiple id="city" list="drawfemails2"  size="64" placeholder="Agregue la ciudad" name="city"
          class = "<%=locals.errors && errors.city ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.city : null %>">
          <div id="cityError" class="text-danger">
          </div> 
          <datalist id="drawfemails2">
              <option value="CDMX">CDMX</option>
              <option value="Guadalajara">Guadalajara</option>
              <option value="Morelia">Morelia</option>
              <option value="Chihuahua">Chihuahua</option>
              <option value="Leon">Leon</option>
              <option value="Monterrey">Monterrey</option>
              <option value="Ixtapa">Ixtapa</option>
              <option value="Queretaro">Queretaro</option>
          </datalist>
          <%if(locals.errors && errors.city){%>
            <div class="text-danger">
              <%= errors.city.msg%>
            </div>
          <%}%>
        </li>
        <li>
          <label for="mail">Descripcion:</label>
          <input type="text" id="descripcion" name="description"
          class = "<%=locals.errors && errors.description ? 'fill' : null %>" 
          value= "<%=locals.oldData ? oldData.description : null %>">
          <div id="descError" class="text-danger">
          </div> 
          <%if(locals.errors && errors.description){%>
            <div class="text-danger">
              Debes de escribir una descripcion con almenos 20 caracteres
            </div>
          <%}%>
        </li>
        <li>
          <label for="precio">Precio:</label>
          <input type="number" id="price" name="price" 
          class = "<%=locals.errors && errors.price ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.price : null %>">
          <div id="priceError" class="text-danger">
          </div> 
          <%if(locals.errors && errors.price){%>
            <div class="text-danger">
              <%= errors.price.msg%>
            </div>
          <%}%>
      </li>
      <li>
        <label for="group-image">Foto del producto:</label>
        <input type="file" id="image" name="image"
        class = "<%=locals.errors && errors.image ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.image : null %>">
        <div id="imageError" class="text-danger">
        </div> 
        <%if(locals.errors && errors.image){%>
          <div class="text-danger">
            <%= errors.image.msg%>
          </div>
        <%}%>
      </li>
          <li>
            <label for="Categoria">Categoría:</label>
            <input type="text" multiple name="category" id="category" list="drawfemails"  size="64" placeholder=""
            class = "<%=locals.errors && errors.category ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.category : null %>">
            <datalist id="drawfemails">
                <option value="Casa">Casa</option>
                <option value="Departamento">Departamento</option>
                <option value="Local">Local</option>
                <option value="Terreno">Terreno</option>
                <option value="Oficina">Oficina</option>
            </datalist>
            <div id="categoryError" class="text-danger">
            </div> 
            <%if(locals.errors && errors.category){%>
              <div class="text-danger">
                <%= errors.category.msg%>
              </div>
            <%}%>
        </li>

        <li>
          <label for="Categoria">Dirección:</label>
          <input type="text" id="address" name="address" 
          class = "<%=locals.errors && errors.address ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.address : null %>">
          <div id="addressError" class="text-danger">
          </div> 
          <%if(locals.errors && errors.address){%>
            <div class="text-danger">
              <%= errors.address.msg%>
            </div>
          <%}%>
      </li>

        <li>
        <select name="tipo" id="tipo-compra" 
        class = "<%=locals.errors && errors.tipo ? 'fill' : null %>" value= "<%=locals.oldData ? oldData.tipo : null %>">
          <option value="Venta">Venta</option>
          <option value="Renta">Renta</option>
        </select>
        <%if(locals.errors && errors.tipo){%>
          <div class="text-danger">
            <%= errors.tipo.msg%>
          </div>
        <%}%>
        </li>

        <li class="">
          <button type="submit" id="button">Agregar</button>
        </li>

      </ul>

   </form>


   <script src="../js/validacionRegistroProducts.js"></script>

   </body>
</div>
</html>